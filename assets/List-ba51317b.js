import{p as Q,m as se,q as Ie,v as ke,x as Z,c as I,y as ee,f as n,z as Y,A as J,M as we,I as ne,E as le,B as Pe,C as Fe,D as Se,F as Be,G as Re,H as Ee,J as De,K as Te,r as $,L as $e,N as Le,O as Ae,w as Oe,P as Me,Q as Ne,R as We,S as T,T as G,U as Ue,W as qe,X as Ke,Y as je,Z as Ye,_ as ze,$ as He,n as de,a0 as Xe,s as Ge,d as E,e as D,h as A,V as Je,a1 as ce,i as c,a2 as fe,u as O,k as ve,t as he,l as K}from"./index-acf4c2fa.js";import{u as Qe}from"./list-2a45c0be.js";import{V as Ze,a as j}from"./VRow-76678498.js";import{V as et,m as tt,u as xe,a as nt,b as lt,c as me,d as ge}from"./VInput-1f82c2e2.js";class ae{constructor(o){let{x:a,y:i,width:t,height:l}=o;this.x=a,this.y=i,this.width=t,this.height=l}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function at(e){const o=e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){let t,l,s,h,d;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),l=+t[0],s=+t[5],h=+t[12],d=+t[13];else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),l=+t[0],s=+t[3],h=+t[4],d=+t[5];else return new ae(o);const f=a.transformOrigin,y=o.x-h-(1-l)*parseFloat(f),m=o.y-d-(1-s)*parseFloat(f.slice(f.indexOf(" ")+1)),k=l?o.width/l:e.offsetWidth+1,C=s?o.height/s:e.offsetHeight+1;return new ae({x:y,y:m,width:k,height:C})}else return new ae(o)}function it(e,o,a){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(o,a)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(t=>{i.onfinish=()=>{t(i)}})),i}const ot="cubic-bezier(0.4, 0, 0.2, 1)";const st=Q({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...se(),...Ie({transition:{component:ke}})},"VCounter"),rt=Z()({name:"VCounter",functional:!0,props:st(),setup(e,o){let{slots:a}=o;const i=I(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ee(()=>n(we,{transition:e.transition},{default:()=>[Y(n("div",{class:["v-counter",e.class],style:e.style},[a.default?a.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[J,e.active]])]})),{}}});const ut=Q({floating:Boolean,...se()},"VFieldLabel"),X=Z()({name:"VFieldLabel",props:ut(),setup(e,o){let{slots:a}=o;return ee(()=>n(et,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),dt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],be=Q({appendInnerIcon:ne,bgColor:String,clearable:Boolean,clearIcon:{type:ne,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ne,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>dt.includes(e)},"onClick:clear":le(),"onClick:appendInner":le(),"onClick:prependInner":le(),...se(),...Pe(),...Fe(),...Se()},"VField"),_e=Z()({name:"VField",inheritAttrs:!1,props:{id:String,...tt(),...be()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:a,emit:i,slots:t}=o;const{themeClasses:l}=Be(e),{loaderClasses:s}=Re(e),{focusClasses:h,isFocused:d,focus:f,blur:y}=xe(e),{InputIcon:m}=nt(e),{roundedClasses:k}=Ee(e),{rtlClasses:C}=De(),F=I(()=>e.dirty||e.active),g=I(()=>!e.singleLine&&!!(e.label||t.label)),x=Te(),v=I(()=>e.id||`input-${x}`),r=I(()=>`${v.value}-messages`),L=$(),b=$(),z=$(),u=I(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:w,backgroundColorStyles:P}=$e(Le(e,"bgColor")),{textColorClasses:S,textColorStyles:re}=Ae(I(()=>e.error||e.disabled?void 0:F.value&&d.value?e.color:e.baseColor));Oe(F,p=>{if(g.value){const _=L.value.$el,B=b.value.$el;requestAnimationFrame(()=>{const R=at(_),V=B.getBoundingClientRect(),W=V.x-R.x,U=V.y-R.y-(R.height/2-V.height/2),M=V.width/.75,q=Math.abs(M-R.width)>1?{maxWidth:Me(M)}:void 0,H=getComputedStyle(_),ue=getComputedStyle(B),Ce=parseFloat(H.transitionDuration)*1e3||150,pe=parseFloat(ue.getPropertyValue("--v-field-label-scale")),Ve=ue.getPropertyValue("color");_.style.visibility="visible",B.style.visibility="hidden",it(_,{transform:`translate(${W}px, ${U}px) scale(${pe})`,color:Ve,...q},{duration:Ce,easing:ot,direction:p?"normal":"reverse"}).finished.then(()=>{_.style.removeProperty("visibility"),B.style.removeProperty("visibility")})})}},{flush:"post"});const N=I(()=>({isActive:F,isFocused:d,controlRef:z,blur:y,focus:f}));function te(p){p.target!==document.activeElement&&p.preventDefault()}return ee(()=>{var W,U,M;const p=e.variant==="outlined",_=t["prepend-inner"]||e.prependInnerIcon,B=!!(e.clearable||t.clear),R=!!(t["append-inner"]||e.appendInnerIcon||B),V=t.label?t.label({...N.value,label:e.label,props:{for:v.value}}):e.label;return n("div",G({class:["v-field",{"v-field--active":F.value,"v-field--appended":R,"v-field--center-affix":e.centerAffix??!u.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":_,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!V,[`v-field--variant-${e.variant}`]:!0},l.value,w.value,h.value,s.value,k.value,C.value,e.class],style:[P.value,re.value,e.style],onClick:te},a),[n("div",{class:"v-field__overlay"},null),n(Ne,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),_&&n("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&n(m,{key:"prepend-icon",name:"prependInner"},null),(W=t["prepend-inner"])==null?void 0:W.call(t,N.value)]),n("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&g.value&&n(X,{key:"floating-label",ref:b,class:[S.value],floating:!0,for:v.value},{default:()=>[V]}),n(X,{ref:L,for:v.value},{default:()=>[V]}),(U=t.default)==null?void 0:U.call(t,{...N.value,props:{id:v.value,class:"v-field__input","aria-describedby":r.value},focus:f,blur:y})]),B&&n(We,{key:"clear"},{default:()=>[Y(n("div",{class:"v-field__clearable",onMousedown:q=>{q.preventDefault(),q.stopPropagation()}},[t.clear?t.clear():n(m,{name:"clear"},null)]),[[J,e.dirty]])]}),R&&n("div",{key:"append",class:"v-field__append-inner"},[(M=t["append-inner"])==null?void 0:M.call(t,N.value),e.appendInnerIcon&&n(m,{key:"append-icon",name:"appendInner"},null)]),n("div",{class:["v-field__outline",S.value]},[p&&n(T,null,[n("div",{class:"v-field__outline__start"},null),g.value&&n("div",{class:"v-field__outline__notch"},[n(X,{ref:b,floating:!0,for:v.value},{default:()=>[V]})]),n("div",{class:"v-field__outline__end"},null)]),u.value&&g.value&&n(X,{ref:b,floating:!0,for:v.value},{default:()=>[V]})])])}),{controlRef:z}}});function ct(e){const o=Object.keys(_e.props).filter(a=>!Ue(a)&&a!=="class"&&a!=="style");return qe(e,o)}const ie=Symbol("Forwarded refs");function oe(e,o){let a=e;for(;a;){const i=Reflect.getOwnPropertyDescriptor(a,o);if(i)return i;a=Object.getPrototypeOf(a)}}function ft(e){for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];return e[ie]=a,new Proxy(e,{get(t,l){if(Reflect.has(t,l))return Reflect.get(t,l);if(!(typeof l=="symbol"||l.startsWith("__"))){for(const s of a)if(s.value&&Reflect.has(s.value,l)){const h=Reflect.get(s.value,l);return typeof h=="function"?h.bind(s.value):h}}},has(t,l){if(Reflect.has(t,l))return!0;if(typeof l=="symbol"||l.startsWith("__"))return!1;for(const s of a)if(s.value&&Reflect.has(s.value,l))return!0;return!1},getOwnPropertyDescriptor(t,l){var h;const s=Reflect.getOwnPropertyDescriptor(t,l);if(s)return s;if(!(typeof l=="symbol"||l.startsWith("__"))){for(const d of a){if(!d.value)continue;const f=oe(d.value,l)??("_"in d.value?oe((h=d.value._)==null?void 0:h.setupState,l):void 0);if(f)return f}for(const d of a){const f=d.value&&d.value[ie];if(!f)continue;const y=f.slice();for(;y.length;){const m=y.shift(),k=oe(m.value,l);if(k)return k;const C=m.value&&m.value[ie];C&&y.push(...C)}}}}})}const vt=["color","file","time","date","datetime-local","week","month"],ht=Q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...lt(),...be()},"VTextField"),ye=Z()({name:"VTextField",directives:{Intersect:Ke},inheritAttrs:!1,props:ht(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:a,emit:i,slots:t}=o;const l=je(e,"modelValue"),{isFocused:s,focus:h,blur:d}=xe(e),f=I(()=>typeof e.counterValue=="function"?e.counterValue(l.value):(l.value??"").toString().length),y=I(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),m=I(()=>["plain","underlined"].includes(e.variant));function k(u,w){var P,S;!e.autofocus||!u||(S=(P=w[0].target)==null?void 0:P.focus)==null||S.call(P)}const C=$(),F=$(),g=$(),x=I(()=>vt.includes(e.type)||e.persistentPlaceholder||s.value||e.active);function v(){var u;g.value!==document.activeElement&&((u=g.value)==null||u.focus()),s.value||h()}function r(u){i("mousedown:control",u),u.target!==g.value&&(v(),u.preventDefault())}function L(u){v(),i("click:control",u)}function b(u){u.stopPropagation(),v(),de(()=>{l.value=null,Xe(e["onClick:clear"],u)})}function z(u){var P;const w=u.target;if(l.value=w.value,(P=e.modelModifiers)!=null&&P.trim&&["text","search","password","tel","url"].includes(e.type)){const S=[w.selectionStart,w.selectionEnd];de(()=>{w.selectionStart=S[0],w.selectionEnd=S[1]})}}return ee(()=>{const u=!!(t.counter||e.counter||e.counterValue),w=!!(u||t.details),[P,S]=Ye(a),[{modelValue:re,...N}]=me.filterProps(e),[te]=ct(e);return n(me,G({ref:C,modelValue:l.value,"onUpdate:modelValue":p=>l.value=p,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(e.variant)},e.class],style:e.style},P,N,{centerAffix:!m.value,focused:s.value}),{...t,default:p=>{let{id:_,isDisabled:B,isDirty:R,isReadonly:V,isValid:W}=p;return n(_e,G({ref:F,onMousedown:r,onClick:L,"onClick:clear":b,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},te,{id:_.value,active:x.value||R.value,dirty:R.value||e.dirty,disabled:B.value,focused:s.value,error:W.value===!1}),{...t,default:U=>{let{props:{class:M,...q}}=U;const H=Y(n("input",G({ref:g,value:l.value,onInput:z,autofocus:e.autofocus,readonly:V.value,disabled:B.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:v,onBlur:d},q,S),null),[[ze("intersect"),{handler:k},null,{once:!0}]]);return n(T,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[n("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n("div",{class:M,"data-no-activator":""},[t.default?n(T,null,[t.default(),H]):He(H)]),e.suffix&&n("span",{class:"v-text-field__suffix"},[n("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:w?p=>{var _;return n(T,null,[(_=t.details)==null?void 0:_.call(t,p),u&&n(T,null,[n("span",null,null),n(rt,{active:e.persistentCounter||s.value,value:f.value,max:y.value},t.counter)])])}:void 0})}),ft({},C,F,g)}}),mt={class:"background",style:{background:"#FFFDE7",height:"100vh"}},gt=c("h1",{style:{color:"#757575"}},"List",-1),yt=c("thead",null,[c("tr",null,[c("th",null,"名稱"),c("th",null,"操作")])],-1),xt={key:0},bt=c("td",{colspan:"2",class:"text-center",style:{color:"#FB8C00","font-weight":"bold",border:"1px solid #FFEE58"}}," EMPTY",-1),_t=[bt],Ct=c("h1",{style:{color:"#757575"}},"Done Items",-1),pt=c("thead",null,[c("tr",null,[c("th",null,"名稱"),c("th",null,"操作")])],-1),Vt={key:0},It=c("td",{colspan:"2",class:"text-center",style:{color:"#FB8C00","font-weight":"bold",border:"1px solid #FFEE58"}}," EMPTY",-1),kt=[It],Bt={__name:"List",setup(e){const o=Qe(),{addItem:a,editItem:i,cancelEditItem:t,delItem:l,confirmEditItem:s,delFinishedItem:h}=o,{items:d,finishedItems:f}=Ge(o),y=$(""),m=$(null),k=$([]),C=async()=>{const x=await m.value.validate();console.log(x),!(x.length>0)&&(a(y.value),m.value.blur(),m.value.reset())},F=async(x,v)=>{const r=await k.value[v].validate();console.log(r),!(r.length>0)&&s(x)},g={required:x=>!!x||"欄位必填",length:x=>x.length>=3||"At Least 3 Letters"};return(x,v)=>(E(),D("div",mt,[n(Je,null,{default:A(()=>[n(Ze,null,{default:A(()=>[n(j,{cols:"12"}),n(j,{cols:"12"},{default:A(()=>[gt]),_:1}),n(j,{cols:"12"},{default:A(()=>[n(ye,{modelValue:y.value,"onUpdate:modelValue":v[0]||(v[0]=r=>y.value=r),label:"ADD NEW ITEM","append-inner-icon":"mdi-plus","onClick:appendInner":C,onKeydown:ce(C,["enter"]),rules:[g.required,g.length],ref_key:"newItemInput",ref:m},null,8,["modelValue","onKeydown","rules"]),n(ge,null,{default:A(()=>[yt,c("tbody",null,[(E(!0),D(T,null,fe(O(d),(r,L)=>(E(),D("tr",{key:r.id},[c("td",null,[Y(n(ye,{modelValue:r.model,"onUpdate:modelValue":b=>r.model=b,rules:[g.required,g.length],autofocus:"",ref_for:!0,ref_key:"editItemInput",ref:k,onKeydown:ce(b=>F(r.id,L),["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[J,r.edit]]),Y(c("span",null,he(r.name),513),[[J,!r.edit]])]),c("td",null,[r.edit?(E(),D(T,{key:0},[n(K,{icon:"mdi-check",variant:"text",color:"#7CB342",onClick:b=>F(r.id,L)},null,8,["onClick"]),n(K,{icon:"mdi-undo",variant:"text",color:"#8D6E63",onClick:b=>O(t)(r.id)},null,8,["onClick"])],64)):(E(),D(T,{key:1},[n(K,{icon:"mdi-pencil",variant:"text",color:"#7CB342",onClick:b=>O(i)(r.id)},null,8,["onClick"]),n(K,{icon:"mdi-trash-can",variant:"text",color:"#8D6E63",onClick:b=>O(l)(r.id)},null,8,["onClick"])],64))])]))),128)),O(d).length===0?(E(),D("tr",xt,_t)):ve("",!0)])]),_:1})]),_:1}),n(j,{cols:"12"},{default:A(()=>[Ct]),_:1}),n(j,{cols:"12"},{default:A(()=>[n(ge,null,{default:A(()=>[pt,c("tbody",null,[(E(!0),D(T,null,fe(O(f),r=>(E(),D("tr",{key:r.id},[c("td",null,he(r.name),1),c("td",null,[n(K,{icon:"mdi-trash-can",variant:"text",color:"#8D6E63",onClick:L=>O(h)(r.id)},null,8,["onClick"])])]))),128)),O(f).length===0?(E(),D("tr",Vt,kt)):ve("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{Bt as default};
